10 REM Test: NEON edge cases
20 REM 3-field padded UDT, 2-field half-reg, boundary values, stress
30 TYPE Vec3
40   X AS INTEGER
50   Y AS INTEGER
60   Z AS INTEGER
70 END TYPE
80 TYPE Pair
90   A AS INTEGER
100   B AS INTEGER
110 END TYPE
120 TYPE QuadLong
130   A AS DOUBLE
140   B AS DOUBLE
150   C AS DOUBLE
160   D AS DOUBLE
170 END TYPE
180 TYPE Vec4
190   X AS INTEGER
200   Y AS INTEGER
210   Z AS INTEGER
220   W AS INTEGER
230 END TYPE
240 TYPE Vec2D
250   X AS DOUBLE
260   Y AS DOUBLE
270 END TYPE
280 DIM passCount% AS INTEGER
290 passCount% = 0
300 REM Test 1: Vec3 copy (3x32=96 bits)
310 DIM V1 AS Vec3
320 DIM V2 AS Vec3
330 V1.X = 10 : V1.Y = 20 : V1.Z = 30
340 V2 = V1
350 IF V2.X = 10 AND V2.Y = 20 AND V2.Z = 30 THEN PRINT "VEC3_COPY PASS" : passCount% = passCount% + 1 ELSE PRINT "VEC3_COPY FAIL"
360 V2.X = 0
370 IF V1.X = 10 THEN PRINT "VEC3_INDEP PASS" : passCount% = passCount% + 1 ELSE PRINT "VEC3_INDEP FAIL"
380 REM Test 2: Pair copy (2x32=64 bits, half register)
390 DIM P1 AS Pair
400 DIM P2 AS Pair
410 P1.A = 42 : P1.B = 99
420 P2 = P1
430 IF P2.A = 42 AND P2.B = 99 THEN PRINT "PAIR_COPY PASS" : passCount% = passCount% + 1 ELSE PRINT "PAIR_COPY FAIL"
440 P2.A = 0
450 IF P1.A = 42 THEN PRINT "PAIR_INDEP PASS" : passCount% = passCount% + 1 ELSE PRINT "PAIR_INDEP FAIL"
460 REM Test 3: QuadLong copy (4x64=256, too large for Q)
470 DIM QL1 AS QuadLong
480 DIM QL2 AS QuadLong
490 QL1.A = 1.0 : QL1.B = 2.0 : QL1.C = 3.0 : QL1.D = 4.0
500 QL2 = QL1
510 IF QL2.A = 1.0 AND QL2.B = 2.0 AND QL2.C = 3.0 AND QL2.D = 4.0 THEN PRINT "QUADLONG_COPY PASS" : passCount% = passCount% + 1 ELSE PRINT "QUADLONG_COPY FAIL"
520 QL2.A = 0.0
530 IF QL1.A = 1.0 THEN PRINT "QUADLONG_INDEP PASS" : passCount% = passCount% + 1 ELSE PRINT "QUADLONG_INDEP FAIL"
540 REM Test 4: Vec4 INT32 boundary values
550 DIM BV1 AS Vec4
560 DIM BV2 AS Vec4
570 DIM BV3 AS Vec4
580 BV1.X = 2147483647 : BV1.Y = -2147483647 : BV1.Z = 0 : BV1.W = -1
590 BV2 = BV1
600 IF BV2.X = 2147483647 AND BV2.Y = -2147483647 AND BV2.Z = 0 AND BV2.W = -1 THEN PRINT "BOUNDARY_COPY PASS" : passCount% = passCount% + 1 ELSE PRINT "BOUNDARY_COPY FAIL"
610 BV1.X = 1 : BV1.Y = 1 : BV1.Z = 1 : BV1.W = 1
620 BV3 = BV2 + BV1
630 IF BV3.Z = 1 AND BV3.W = 0 THEN PRINT "BOUNDARY_ADD PASS" : passCount% = passCount% + 1 ELSE PRINT "BOUNDARY_ADD FAIL"
640 REM Test 5: All-zero add/sub/mul
650 DIM Z1 AS Vec4
660 DIM Z2 AS Vec4
670 DIM Z3 AS Vec4
680 Z1.X = 0 : Z1.Y = 0 : Z1.Z = 0 : Z1.W = 0
690 Z2.X = 0 : Z2.Y = 0 : Z2.Z = 0 : Z2.W = 0
700 Z3 = Z1 + Z2
710 IF Z3.X = 0 AND Z3.Y = 0 AND Z3.Z = 0 AND Z3.W = 0 THEN PRINT "ZERO_ADD PASS" : passCount% = passCount% + 1 ELSE PRINT "ZERO_ADD FAIL"
720 Z3 = Z1 - Z2
730 IF Z3.X = 0 AND Z3.Y = 0 AND Z3.Z = 0 AND Z3.W = 0 THEN PRINT "ZERO_SUB PASS" : passCount% = passCount% + 1 ELSE PRINT "ZERO_SUB FAIL"
740 Z3 = Z1 * Z2
750 IF Z3.X = 0 AND Z3.Y = 0 AND Z3.Z = 0 AND Z3.W = 0 THEN PRINT "ZERO_MUL PASS" : passCount% = passCount% + 1 ELSE PRINT "ZERO_MUL FAIL"
760 REM Test 6: Alternating sign patterns
770 DIM ALT1 AS Vec4
780 DIM ALT2 AS Vec4
790 DIM ALT3 AS Vec4
800 ALT1.X = 1 : ALT1.Y = -1 : ALT1.Z = 1 : ALT1.W = -1
810 ALT2.X = -1 : ALT2.Y = 1 : ALT2.Z = -1 : ALT2.W = 1
820 ALT3 = ALT1 + ALT2
830 IF ALT3.X = 0 AND ALT3.Y = 0 AND ALT3.Z = 0 AND ALT3.W = 0 THEN PRINT "ALT_ADD PASS" : passCount% = passCount% + 1 ELSE PRINT "ALT_ADD FAIL"
840 ALT3 = ALT1 * ALT2
850 IF ALT3.X = -1 AND ALT3.Y = -1 AND ALT3.Z = -1 AND ALT3.W = -1 THEN PRINT "ALT_MUL PASS" : passCount% = passCount% + 1 ELSE PRINT "ALT_MUL FAIL"
860 REM Test 7: Stress - 10 consecutive add on same vars
870 DIM SA AS Vec4
880 DIM SB AS Vec4
890 DIM SC AS Vec4
900 SA.X = 1 : SA.Y = 1 : SA.Z = 1 : SA.W = 1
910 SB.X = 1 : SB.Y = 1 : SB.Z = 1 : SB.W = 1
920 SC = SA + SB
930 SC = SC + SB
940 SC = SC + SB
950 SC = SC + SB
960 SC = SC + SB
970 SC = SC + SB
980 SC = SC + SB
990 SC = SC + SB
1000 SC = SC + SB
1010 SC = SC + SB
1020 IF SC.X = 11 AND SC.Y = 11 AND SC.Z = 11 AND SC.W = 11 THEN PRINT "STRESS_ADD PASS" : passCount% = passCount% + 1 ELSE PRINT "STRESS_ADD FAIL"
1030 REM Test 8: Mixed ops sequence
1040 SA.X = 10 : SA.Y = 20 : SA.Z = 30 : SA.W = 40
1050 SB.X = 5  : SB.Y = 10 : SB.Z = 15 : SB.W = 20
1060 SC = SA + SB
1070 SC = SC - SA
1080 IF SC.X = 5 AND SC.Y = 10 AND SC.Z = 15 AND SC.W = 20 THEN PRINT "MIXEDOP PASS" : passCount% = passCount% + 1 ELSE PRINT "MIXEDOP FAIL"
1090 REM Test 9: Vec2D small doubles
1100 DIM SD1 AS Vec2D
1110 DIM SD2 AS Vec2D
1120 DIM SD3 AS Vec2D
1130 SD1.X = 0.000001 : SD1.Y = 0.000002
1140 SD2.X = 0.000001 : SD2.Y = 0.000002
1150 SD3 = SD1 + SD2
1160 IF SD3.X = 0.000002 AND SD3.Y = 0.000004 THEN PRINT "SMALL_DBL PASS" : passCount% = passCount% + 1 ELSE PRINT "SMALL_DBL FAIL"
1170 REM Test 10: Vec2D large doubles
1180 SD1.X = 1000000000.0 : SD1.Y = 2000000000.0
1190 SD2.X = 1.0          : SD2.Y = 1.0
1200 SD3 = SD1 + SD2
1210 IF SD3.X = 1000000001.0 AND SD3.Y = 2000000001.0 THEN PRINT "LARGE_DBL PASS" : passCount% = passCount% + 1 ELSE PRINT "LARGE_DBL FAIL"
1220 PRINT ""
1230 PRINT "Passed: "; passCount%; " / 17"
1240 IF passCount% = 17 THEN PRINT "ALL EDGE CASE TESTS PASSED" ELSE PRINT "SOME TESTS FAILED"
1250 END
